<form class='chat_width' novalidate>

    {{#if (or (and isChannel is_owner) (not isChannel))}}
        <div class='input_block'>
            <label for='file_input_message' class='input_attach_label'>
                <svg
                    xmlns='http://www.w3.org/2000/svg'
                    fill='none'
                    viewBox='0 0 24 24'
                    stroke-width='1.5'
                    stroke='currentColor'
                    class='input_attach_clip'
                >
                    <path
                        stroke-linecap='round'
                        stroke-linejoin='round'
                        d='m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13'
                    />
                </svg>
            </label>
            <input
                id='file_input_message'
                class='input_attach chat-input'
                type='file'
            />

            <div class='input_text_block'>
                <div class='input_text_block_stickers'>
                    <button class='input_text_block_stickers_btn' type='button'>
                        <svg
                            xmlns='http://www.w3.org/2000/svg'
                            fill='none'
                            viewBox='0 0 24 24'
                            stroke-width='1.5'
                            stroke='currentColor'
                            class='input_text_stickers_ico'
                        >
                            <path
                                stroke-linecap='round'
                                stroke-linejoin='round'
                                d='M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z'
                            />
                        </svg>
                    </button>
                    <div class='popup_stickers_bgc'></div>
                    <div id='popup_stickers_block' class='popup_stickers'>
                        <div class='popup_stickers_title'>
                            <h3>Выберите стикер</h3>
                        </div>
                        <div class='popup_stickers_body'></div>
                    </div>
                </div>

                <input
                    id='input_message'
                    class='input_text chat-input'
                    type='text'
                    maxlength='512'
                    placeholder='Сообщение...'
                    autocomplete='off'
                    value='{{inputMessageValue}}'
                />
            </div>
            <button class='input_send chat-input' type='button'><svg
                    xmlns='http://www.w3.org/2000/svg'
                    fill='none'
                    viewBox='0 0 24 24'
                    stroke-width='1.5'
                    stroke='currentColor'
                    class='input_attach_airplan'
                >
                    <path
                        stroke-linecap='round'
                        stroke-linejoin='round'
                        d='M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5'
                    />
                </svg>
            </button>
        </div>
        <div class='input_attach_preview'>
            <svg
                xmlns='http://www.w3.org/2000/svg'
                fill='none'
                viewBox='0 0 24 24'
                stroke-width='1.5'
                stroke='currentColor'
                class='input_attach_preview_ico'
            >
                <path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    d='M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z'
                />
            </svg>
            <div class='input_attach_preview_title'></div>
        </div>
    {{/if}}

    {{#if (and isChannel (not is_owner))}}
        {{#if is_member}}
            <button
                class='chat-input chat-input-button'
                id='leave_channel'
            >Покинуть канал</button>
        {{else}}
            <button
                class='chat-input chat-input-button'
                id='join_channel'
            >Подписаться на канал</button>
        {{/if}}
    {{/if}}
</form>